{
    "sourceFile": "resources/views/pages/backend/comptabilite/recettes/index.blade.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1732794309973,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1732794309973,
            "name": "Commit-0",
            "content": "<x-app-layout>\r\n    <x-sidebar/>\r\n\r\n    @if (session('success'))\r\n        <x-succes-notification>\r\n            {{ session('success') }}\r\n        </x-succes-notification>\r\n        <script>\r\n            document.addEventListener('DOMContentLoaded', function () {\r\n                const notification = document.getElementById('success-notification-content');\r\n                const closeBtn = document.getElementById('close-notification');\r\n                \r\n                notification.classList.remove('hidden');\r\n                \r\n                closeBtn.addEventListener('click', () => {\r\n                    notification.classList.add('hidden');\r\n                });\r\n            });\r\n        </script>\r\n    @endif\r\n\r\n    <x-content-page>\r\n        @section('navigation-content')\r\n            <x-breadcrumb :breadcrumbItems=\"$breadcrumbsItems\" :pageTitle=\"$pageTitle\"/>\r\n        @endsection        \r\n        <div class=\"flex-1 p-6\">\r\n            <x-header>\r\n                {{$pageTitle}}\r\n            </x-header>\r\n\r\n            <div class=\"p-6 mx-auto mt-4 bg-white min-h-screen rounded-b-lg shadow-lg\">\r\n                <!-- Tabs -->\r\n                <div class=\"mb-4\">\r\n                    <ul class=\"flex border-b\">\r\n                        <li class=\"mr-1\">\r\n                            <a href=\"#all\" class=\"inline-block py-2 px-4 text-blue-600 hover:text-whit text-sm rounded-t-md focus:outline-none tab-link\">\r\n                                Tous\r\n                            </a>\r\n                        </li>\r\n                        @foreach($categoriesPrincipales as $categorie)\r\n                            <li class=\"mr-1\">\r\n                                <a href=\"#category-{{ $categorie->uuid }}\" class=\"inline-block truncate py-2 px-4 text-blue-600 hover:text-whit text-sm rounded-t-md focus:outline-none tab-link\" title=\"{{ $categorie->nom }}\">\r\n                                    {{ $categorie->nom }}\r\n                                </a>\r\n                            </li>\r\n                        @endforeach\r\n                    </ul>\r\n                </div>\r\n\r\n                <!-- Tous tab content -->\r\n                <div id=\"all\" class=\"tab-content hidden\">\r\n                    <table id=\"recettes-table-all\" class=\"w-full text-sm text-left text-gray-500 border rtl:text-right dark:text-gray-400 display\">\r\n                        <thead class=\"text-xs text-gray-700 uppercase bg-gray-200 dark:bg-gray-700 dark:text-gray-400\">\r\n                            <tr>\r\n                                <th>Description</th>\r\n                                <th>Montant</th>\r\n                                <th>Catégorie</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            @foreach($recettes as $recette)\r\n                                <tr class=\"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600\">\r\n                                    <td class=\"px-6 py-4\">{{ $recette->description }}</td>\r\n                                    <td class=\"px-6 py-4\">{{ $recette->montant }}</td>\r\n                                    <td class=\"px-6 py-4\">{{ $recette->categorie->nom }}</td>\r\n                                </tr>\r\n                            @endforeach\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n\r\n                <!-- Categories tab content -->\r\n                    @foreach($categoriesPrincipales as $categorie)\r\n                    <div id=\"category-{{ $categorie->uuid }}\" class=\"tab-content hidden\">\r\n                        <table id=\"recettes-table-{{ $categorie->uuid }}\" class=\" w-full text-sm text-left text-gray-500 border rtl:text-right dark:text-gray-400 display\">\r\n                            <thead class=\"text-xs text-gray-700 uppercase bg-gray-200 dark:bg-gray-700 dark:text-gray-400\">\r\n                                <tr>\r\n                                    <th>Description</th>\r\n                                    <th>Montant</th>\r\n                                    <th>Catégorie</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                @foreach($recettes as $recette)\r\n                                    @if($recette->categorie->uuid == $categorie->uuid)\r\n                                    <tr class=\"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600\">\r\n                                        <td class=\"px-6 py-4\">{{ $recette->description }}</td>\r\n                                        <td class=\"px-6 py-4\">{{ $recette->montant }}</td>\r\n                                        <td class=\"px-6 py-4\">{{ $recette->categorie->nom }}</td>\r\n                                    </tr>\r\n                                    @endif\r\n                                @endforeach\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                @endforeach\r\n            </div>\r\n        </div>    \r\n    </x-content-page>\r\n\r\n    <script src=\"https://code.jquery.com/jquery-3.6.0.min.js\"></script>\r\n    <script src=\"https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js\"></script>\r\n    <script src=\"https://cdn.datatables.net/buttons/2.3.6/js/dataTables.buttons.min.js\"></script>\r\n    <script src=\"https://cdn.datatables.net/buttons/2.3.6/js/buttons.html5.min.js\"></script>\r\n    <script src=\"https://cdn.datatables.net/buttons/2.3.6/js/buttons.print.min.js\"></script>\r\n    <script>\r\n        $(document).ready(function() {\r\n            // DataTable for \"Tous\"\r\n            $('#recettes-table-all').DataTable({\r\n                buttons: [\r\n                    { \r\n                        extend: 'print', \r\n                        className: 'btn btn-sm text-red-500 btn-primary fa fa-print', \r\n                        text:'' \r\n                    },\r\n                    \r\n                  \r\n                    {\r\n                        extend: 'excelHtml5',\r\n                        text: '<i class=\"fa fa-file-excel-o\"></i>',\r\n                        titleAttr: 'Excel',\r\n                        filename: 'MUPOL_Recettes_{{ $categorie->nom }}',\r\n                        title: 'MUPOL Recettes {{ $categorie->nom }}', \r\n\r\n                    },\r\n                    {\r\n                        extend: 'pdfHtml5',\r\n                        text: '<i class=\"fa fa-file-pdf-o\"></i>',\r\n                        titleAttr: 'PDF',\r\n                        filename: 'MUPOL_Recettes_{{ $categorie->nom }}',\r\n                        title: function() {\r\n                            var date = new Date();\r\n                            var formattedDate = date.getDate() + '/' + (date.getMonth() + 1) + '/' + date.getFullYear(); // Format DD/MM/YYYY\r\n                            return 'MUPOL Recettes {{ $categorie->nom }} - ' + formattedDate;\r\n                        },                            \r\n                        customize: function (doc) {\r\n                            // Personnalisation du titre\r\n                            doc.content[1].table.widths = \r\n                            Array(doc.content[1].table.body[0].length + 1).join('*').split('');\r\n                        }\r\n                    }\r\n                ],\r\n         \r\n                paging: true,\r\n                ordering: true,\r\n                info: true,\r\n                searching: true,\r\n                lengthChange: true,\r\n                lengthMenu: [10, 25, 50, 100],\r\n                pagingType: 'simple_numbers',\r\n                \r\n\r\n                \"language\": {\r\n                    \"search\": \"Rechercher:\",\r\n                    \"lengthMenu\": \"Afficher _MENU_ entrées par page\",\r\n                    \"info\": \"Affichage de _START_ à _END_ sur _TOTAL_ entrées\",\r\n                    \"infoEmpty\": \"Aucune entrée disponible\",\r\n                    \"zeroRecords\": \"Aucun résultat trouvé\",\r\n                    \"paginate\": {\r\n                        \"previous\": \"Précédent\",\r\n                        \"next\": \"Suivant\"\r\n                    }\r\n                },\r\n                \"dom\": '<\"top\"lBf>t<\"bottom\"p><\"clear\">',\r\n                \"initComplete\": function() {\r\n                    // Arrondir les coins de la barre de recherche\r\n                    $('.dataTables_filter input').css('border-radius', '10px');\r\n                    // Remplacer le label par un placeholder\r\n                    $('.dataTables_filter label').contents().filter(function() {\r\n                        return this.nodeType === 3;\r\n                    }).remove();                        \r\n                    $('.dataTables_filter input').attr('placeholder', 'Rechercher...'); \r\n                    $('.dataTables_filter').css({\r\n                        'position': 'relative',\r\n                        \r\n                    });                        \r\n                    $('.dataTables_filter input').css({\r\n                        'padding-left': '30px',  // Espace pour l'icône\r\n                    }).before('<i class=\"fa fa-search absolute text-gray-300\" style=\"position: absolute; top: 50%; left: 10px; transform: translateY(-50%);\"></i>');\r\n\r\n                    $('.dataTables_length select').css({\r\n                        'padding': '6px 12px',\r\n                        'font-family': 'Arial, sans-serif',\r\n                        'font-size': '14px',                 // Change la taille de la police\r\n                        \r\n                    });\r\n                    $('.dataTables_length').css({\r\n                        'font-family': 'Arial, sans-serif',  // Change la police\r\n                        'font-size': '14px',\r\n                        'line-height': '1rem',\r\n                        'color' : 'gray'\r\n                    });\r\n                    $('.dataTables_wrapper .top').css({\r\n                        'display': 'flex',\r\n                        'justify-content': 'space-between',\r\n                        'align-items': 'center',\r\n                        'margin-top': '20px',   // Marge supérieure\r\n                        'margin-bottom': '20px'  // Marge inférieure\r\n                    });\r\n                    $('.dataTables_paginate .paginate_button').css({\r\n                        'margin': '8px 20px',\r\n                        'color' : 'gray',\r\n                        'font-size': '14px',\r\n                        'line-height': '1rem',\r\n                    });\r\n                },\r\n            });\r\n\r\n            @foreach($categoriesPrincipales as $categorie)\r\n                $('#recettes-table-{{ $categorie->uuid }}').DataTable({\r\n                   \r\n                     \r\n                        buttons: [\r\n                        { \r\n                            extend: 'print', \r\n                            className: 'btn btn-sm text-red-500 btn-primary fa fa-print', \r\n                            text:'' \r\n                        },\r\n                        \r\n                      \r\n                        {\r\n                            extend: 'excelHtml5',\r\n                            text: '<i class=\"fa fa-file-excel-o\"></i>',\r\n                            titleAttr: 'Excel',\r\n                            filename: 'MUPOL_Recettes_{{ $categorie->nom }}',\r\n                            title: 'MUPOL Recettes {{ $categorie->nom }}', \r\n\r\n                        },\r\n                        {\r\n                            extend: 'pdfHtml5',\r\n                            text: '<i class=\"fa fa-file-pdf-o\"></i>',\r\n                            titleAttr: 'PDF',\r\n                            filename: 'MUPOL_Recettes_{{ $categorie->nom }}',\r\n                            title: function() {\r\n                                var date = new Date();\r\n                                var formattedDate = date.getDate() + '/' + (date.getMonth() + 1) + '/' + date.getFullYear(); // Format DD/MM/YYYY\r\n                                return 'MUPOL Recettes {{ $categorie->nom }} - ' + formattedDate;\r\n                            },                            \r\n                            customize: function (doc) {\r\n                                // Personnalisation du titre\r\n                                doc.content[1].table.widths = \r\n                                Array(doc.content[1].table.body[0].length + 1).join('*').split('');\r\n                            }\r\n                        }\r\n                        ],\r\n             \r\n                        paging: true,\r\n                        ordering: true,\r\n                        info: true,\r\n                        searching: true,\r\n                        lengthChange: true,\r\n                        lengthMenu: [10, 25, 50, 100],\r\n                        pagingType: 'simple_numbers',\r\n                        \r\n\r\n                        \"language\": {\r\n                            \"search\": \"Rechercher:\",\r\n                            \"lengthMenu\": \"Afficher _MENU_ entrées par page\",\r\n                            \"info\": \"Affichage de _START_ à _END_ sur _TOTAL_ entrées\",\r\n                            \"infoEmpty\": \"Aucune entrée disponible\",\r\n                            \"zeroRecords\": \"Aucun résultat trouvé\",\r\n                            \"paginate\": {\r\n                                \"previous\": \"Précédent\",\r\n                                \"next\": \"Suivant\"\r\n                            }\r\n                        },\r\n                        \"dom\": '<\"top\"lBf>t<\"bottom\"p><\"clear\">',\r\n                        \"initComplete\": function() {\r\n                            // Arrondir les coins de la barre de recherche\r\n                            $('.dataTables_filter input').css('border-radius', '10px');\r\n                            // Remplacer le label par un placeholder\r\n                            $('.dataTables_filter label').contents().filter(function() {\r\n                                return this.nodeType === 3;\r\n                            }).remove();                        \r\n                            $('.dataTables_filter input').attr('placeholder', 'Rechercher...'); \r\n                            $('.dataTables_filter').css({\r\n                                'position': 'relative',\r\n                                \r\n                            });                        \r\n                            $('.dataTables_filter input').css({\r\n                                'padding-left': '30px',  // Espace pour l'icône\r\n                            }).before('<i class=\"fa fa-search absolute text-gray-300\" style=\"position: absolute; top: 50%; left: 10px; transform: translateY(-50%);\"></i>');\r\n\r\n                            $('.dataTables_length select').css({\r\n                                'padding': '6px 12px',\r\n                                'font-family': 'Arial, sans-serif',\r\n                                'font-size': '14px',                 // Change la taille de la police\r\n                                \r\n                            });\r\n                            $('.dataTables_length').css({\r\n                                'font-family': 'Arial, sans-serif',  // Change la police\r\n                                'font-size': '14px',\r\n                                'line-height': '1rem',\r\n                                'color' : 'gray'\r\n                            });\r\n                            $('.dataTables_wrapper .top').css({\r\n                                'display': 'flex',\r\n                                'justify-content': 'space-between',\r\n                                'align-items': 'center',\r\n                                'margin-top': '20px',   // Marge supérieure\r\n                                'margin-bottom': '20px'  // Marge inférieure\r\n                            });\r\n                            $('.dataTables_paginate .paginate_button').css({\r\n                                'margin': '8px 20px',\r\n                                'color' : 'gray',\r\n                                'font-size': '14px',\r\n                                'line-height': '1rem',\r\n                            });\r\n                        },\r\n                });\r\n            @endforeach\r\n\r\n            // Afficher l'onglet actif et changer la couleur de fond de l'onglet sélectionné\r\n            $(\"a.tab-link\").on(\"click\", function (e) {\r\n                e.preventDefault();\r\n\r\n                // Retirer la couleur de fond de tous les onglets\r\n                $(\"a.tab-link\").removeClass(\"bg-primary1 text-white\").addClass(\"text-blue-600\");\r\n\r\n                // Ajouter la couleur de fond et changer la couleur du texte de l'onglet actif\r\n                $(this).removeClass(\"text-blue-600\").addClass(\"bg-primary1 text-white\");\r\n\r\n                // Masquer tous les contenus d'onglets et afficher celui sélectionné\r\n                $(\".tab-content\").addClass(\"hidden\");\r\n                var targetTab = $(this).attr(\"href\");\r\n                $(targetTab).removeClass(\"hidden\");\r\n            });\r\n\r\n            $(\"a.tab-link:first\").addClass(\"bg-primary1 text-white\");\r\n            $(\".tab-content:first\").removeClass(\"hidden\");\r\n        });\r\n    </script>\r\n</x-app-layout>\r\n"
        }
    ]
}