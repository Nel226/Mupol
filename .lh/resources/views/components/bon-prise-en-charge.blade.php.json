{
    "sourceFile": "resources/views/components/bon-prise-en-charge.blade.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1732793802699,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1732793802699,
            "name": "Commit-0",
            "content": "\n\n<div class=\"container-bon\">\n    <style>\n        .container-bon {\n            max-width: 900px;\n            margin: 20px auto;\n            background: #fff;\n            border: 1px solid #ccc;\n            padding: 20px;\n        }\n    \n        h1, h2, h3 {\n            text-align: center;\n            margin: 5px 0;\n        }\n    \n        h1 {\n            font-size: 16px;\n            color: #800080; /* Violet foncé */\n        }\n    \n        h2 {\n            font-size: 14px;\n            color: #800080;\n        }\n    \n        h3 {\n            font-size: 12px;\n        }\n    \n        .header {\n            position: relative;\n            text-align: center;\n            margin-bottom: 20px;\n        }\n    \n        .header img {\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 90px;\n        }\n    \n        .header p {\n            margin: 5px 0;\n        }\n    \n        table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-bottom: 10px;\n        }\n    \n        table, th, td {\n            border: 1px solid #000;\n        }\n    \n        th, td {\n            text-align: left;\n            padding: 8px;\n        }\n    \n        .section-title {\n            background-color: #800080;\n            font-weight: bold;\n            text-align: center;\n            padding: 5px;\n            color: white;\n            border: 1px solid #800080; /* Bordures violettes */\n        }\n    \n        .important {\n            font-size: 10px;\n            text-align: center;\n            background-color: #f9f9f9;\n            color: #800080; /* Texte violet */\n            border-top: 1px solid #800080;\n        }\n    \n        .small-note {\n            font-size: 10px;\n            margin-bottom: 20px;\n        }\n    \n        .right-align {\n            text-align: right;\n        }\n    \n        .center {\n            text-align: center;\n        }\n    \n        th {\n            background-color: #f2f2f2;\n            color: #616161;\n            text-align: center;\n        }\n    \n        .input-field {\n            width: 100%;\n            padding: 5px;\n            margin: 5px 0;\n            border: 1px solid #ccc;\n        }\n    \n        .checkbox-group {\n            margin-top: 5px;\n        }\n    \n        .checkbox-group input {\n            margin-right: 5px;\n        }\n    </style>\n    <div class=\"header\">\n            {{-- <img src=\"{{ asset('images/logo.png') }}\" alt=\"Logo\">\n          \n            <h2>BON DE PRISE EN CHARGE MEDICALE</h2>\n            <p>Mutualité de la Police Nationale \"MP/PN\"<br>Tel : +226 53 01 87 53 - Email : demo@examplemail.com</p>\n        </div>\n\n        <h3>BULLETIN N° : </h3>\n\n        <table>\n            <tr>\n                <td>Date :</td>\n                <td><input type=\"date\" class=\"input-field\"></td>\n                <td>Heure :</td>\n                <td><input type=\"time\" class=\"input-field\"></td>\n            </tr>\n        </table>\n\n        <div class=\"section-title\">1. ETABLISSEMENT MEDICAL CONVENTIONNE</div> --}}\n\n        <div class=\"section-title\">{{--2.--}} INFORMATION DU MUTUALISTE</div>\n        <table>\n            <thead>\n                <tr>\n                    <th colspan=\"2\">Adhérent</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr>\n                    <td>Code ID</td>\n                    <td><input type=\"text\" readonly class=\"input-field\" value=\" {{ $adherent->code_carte }} \"></td>\n                </tr>\n                <tr>\n                    <td>Nom et Prénoms</td>\n                    <td><input type=\"text\" readonly class=\"input-field\" value=\" {{ $adherent->nom }}  {{ $adherent->prenom }}\"></td>\n                </tr>\n            </tbody>\n        </table>\n        \n        <br> <!-- Pour espacer les tableaux -->\n        \n        {{-- <table>\n            <thead>\n                <tr>\n                    <th colspan=\"4\">Patient</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr>\n                    <td colspan=\"1\">Nom et Prénoms</td>\n                    <td colspan=\"3\"><input type=\"text\" id=\"nomPrenom\" class=\"input-field\" readonly></td>\n                </tr>\n                <tr>\n                    <td colspan=\"1\">Code ID</td>\n                    <td colspan=\"3\">\n                        <select class=\"input-field\" name=\"code_id\" id=\"code_id\">\n                            <option value=\"\">Sélectionner un Code ID</option>\n                            @if ($adherent->nombreAyantsDroits > 0)\n                                @foreach($adherent->ayantsDroits as $ayantDroit)\n                                    <option value=\"{{ $ayantDroit['nom'] }}\" \n                                            data-sexe=\"{{ $ayantDroit['sexe'] }}\" \n                                            data-statut=\"{{ $ayantDroit['relation'] }}\" \n                                            data-date-naissance=\"{{ $ayantDroit['date_naissance'] }}\"\n                                            data-nom-prenom=\"{{ $ayantDroit['prenom'] }} {{ $ayantDroit['nom'] }}\">\n                                        {{ $ayantDroit['prenom'] }} {{ $ayantDroit['nom'] }}\n                                    </option>\n                                @endforeach\n                            @endif\n                        </select>\n                    </td>\n                </tr>\n                <tr>\n                    <td>Age :</td>\n                    <td><input type=\"number\" class=\"input-field\" id=\"age\"></td>\n        \n                    <td>Sexe :</td>\n                    <td class=\"checkbox-group\">\n                        <input type=\"radio\" name=\"sexe\" value=\"M\" id=\"sexeM\"> M\n                        <input type=\"radio\" name=\"sexe\" value=\"F\" id=\"sexeF\"> F\n                    </td>\n                </tr>\n                <tr>\n                    <td>Statut :</td>\n                    <td class=\"checkbox-group\">\n                        <input type=\"radio\" name=\"statut\" value=\"conjoint\" id=\"statutConjoint\"> Conjoint (e)\n                        <input type=\"radio\" name=\"statut\" value=\"enfant\" id=\"statutEnfant\"> Enfant\n                    </td>\n                    <td>Tel :</td>\n                    <td><input type=\"number\" class=\"input-field\" id=\"tel\"></td>\n                </tr>\n            </tbody>\n        </table>\n        \n        <script>\n            document.getElementById('code_id').addEventListener('change', function() {\n                var selectedOption = this.options[this.selectedIndex];\n                var sexe = selectedOption.getAttribute('data-sexe');\n                var statut = selectedOption.getAttribute('data-statut');\n                var nomPrenom = selectedOption.getAttribute('data-nom-prenom');\n                var dateNaissance = selectedOption.getAttribute('data-date-naissance');\n\n                document.getElementById('nomPrenom').value = nomPrenom;\n        \n                document.getElementById('sexeM').checked = (sexe === 'M');\n                document.getElementById('sexeF').checked = (sexe === 'F');\n        \n                if (dateNaissance) {\n                    var birthDate = new Date(dateNaissance);\n                    var age = new Date().getFullYear() - birthDate.getFullYear();\n                    var m = new Date().getMonth() - birthDate.getMonth();\n                    if (m < 0 || (m === 0 && new Date().getDate() < birthDate.getDate())) {\n                        age--;\n                    }\n                    document.getElementById('age').value = age;\n                }\n        \n\n                document.getElementById('statutConjoint').checked = (statut === 'conjoint');\n                document.getElementById('statutEnfant').checked = (statut === 'enfant');\n            });\n        </script>\n        \n        \n        <p class=\"small-note\">Signature : \n            <br>\n        </p>\n        <!-- Section 3 : Actes Médicaux -->\n        <div id=\"section3\" class=\"hidden\">\n            <div class=\"section-title\">3. ACTES MEDICAUX</div>\n            <table>\n                <thead>\n                    <tr>\n                        <th>Code</th>\n                        <th>Désignation (Actes médicaux)</th>\n                        <th>Plafond</th>\n                        <th>Coût/Acte</th>\n                        <th>Actions</th>\n                    </tr>\n                </thead>\n                <tbody id=\"actesMedicauxBody\">\n                    <tr>\n                        <td><input type=\"text\" class=\"input-field\"></td>\n                        <td><input type=\"text\" class=\"input-field\"></td>\n                        <td><input type=\"text\" class=\"input-field\"></td>\n                        <td><input type=\"text\" class=\"input-field\"></td>\n                        <td><button onclick=\"deleteRow(this)\" class=\"bg-red-500 text-white px-2 py-1 rounded\"><i class=\" fa fa-trash\"></i></button></td>\n                    </tr>\n                </tbody>\n                <tfoot>\n                    <tr><td colspan=\"5\" class=\"important\">IMPORTANT ! Validité du bulletin de prise en charge : 5 jours - Taux = 80%</td></tr>\n                    <tr>\n                        <td colspan=\"5\" class=\"text-center border-t border-gray-300\">\n                            <x-primary-button onclick=\"addRow('actesMedicauxBody')\" class=\"bg-primary1\"><i class=\"fa  fa-plus-circle\"></i></x-primary-button>\n\n                        </td>\n                    </tr>\n                </tfoot>\n            </table>\n        </div>\n    \n        <!-- Section 4 : Prescription Médicamenteuse -->\n        <div id=\"section4\" class=\"hidden\">\n            <div class=\"section-title\">4. PRESCRIPTION MEDICAMENTEUSE</div>\n            <table>\n                <thead>\n                    <tr>\n                        <th>N°</th>\n                        <th>Médicaments</th>\n                        <th>Posologie</th>\n                        <th>Quantité</th>\n                        <th>Prix Total</th>\n                        <th>Actions</th>\n                    </tr>\n                </thead>\n                <tbody id=\"prescriptionBody\">\n                    <tr>\n                        <td>1</td>\n                        <td><input type=\"text\" class=\"input-field\"></td>\n                        <td><input type=\"text\" class=\"input-field\"></td>\n                        <td><input type=\"number\" class=\"input-field\"></td>\n                        <td><input type=\"number\" class=\"input-field\"></td>\n                        <td><button onclick=\"deleteRow(this)\" class=\"bg-red-500 text-white px-2 py-1 rounded\"><i class=\" fa fa-trash\"></i></button></td>\n                    </tr>\n                </tbody>\n                <tfoot>\n                    <tr><td colspan=\"6\" class=\"important\">IMPORTANT ! Validité du bulletin de prise en charge : 5 jours - Taux = 80%</td></tr>\n                    <tr>\n                        <td colspan=\"6\" class=\"text-center border-t border-gray-300\"> \n                            <x-primary-button onclick=\"addRow('prescriptionBody')\" class=\"bg-primary1\"><i class=\"fa  fa-plus-circle\"></i></x-primary-button>\n\n                        </td>\n                    </tr>\n                </tfoot>\n            </table>\n        </div>\n    \n        <!-- Section 5 : Examens Complémentaires -->\n        <div id=\"section5\" class=\"hidden\">\n            <div class=\"section-title\">5. EXAMENS COMPLEMENTAIRES</div>\n            <table>\n                <thead>\n                    <tr>\n                        <th>Code</th>\n                        <th>Désignation (Actes médicaux)</th>\n                        <th>Plafond</th>\n                        <th>Code/Acte</th>\n                        <th>Actions</th>\n                    </tr>\n                </thead>\n                <tbody id=\"examensBody\">\n                    <tr>\n                        <td><input type=\"text\" class=\"input-field\"></td>\n                        <td><input type=\"text\" class=\"input-field\"></td>\n                        <td><input type=\"text\" class=\"input-field\"></td>\n                        <td><input type=\"text\" class=\"input-field\"></td>\n                        <td><button onclick=\"deleteRow(this)\" class=\"bg-red-500 text-white px-2 py-1 rounded\"><i class=\" fa fa-trash\"></i></button></td>\n                    </tr>\n                </tbody>\n                <tfoot>\n                    <tr><td colspan=\"5\" class=\"important\">IMPORTANT ! Validité du bulletin de prise en charge : 5 jours - Taux = 80%</td></tr>\n                    <tr>\n                        <td colspan=\"5\" class=\"text-center border-t border-gray-300\">    \n                            <x-primary-button onclick=\"addRow('examensBody')\" class=\"bg-primary1\"><i class=\"fa  fa-plus-circle\"></i></x-primary-button>\n                        </td>\n                    </tr>\n                </tfoot>\n            </table>\n        </div>\n\n        <!-- Boutons pour afficher/masquer les sections -->\n        <div class=\"flex space-x-4 mb-6\">\n            <button onclick=\"toggleSection('section3')\" class=\"bg-blue-500 text-white px-4 py-2 rounded\">Afficher/Cacher Actes Médicaux</button>\n            <button onclick=\"toggleSection('section4')\" class=\"bg-blue-500 text-white px-4 py-2 rounded\">Afficher/Cacher Prescription Médicamenteuse</button>\n            <button onclick=\"toggleSection('section5')\" class=\"bg-blue-500 text-white px-4 py-2 rounded\">Afficher/Cacher Examens Complémentaires</button>\n        </div> \n        \n        \n        <script>\n            function toggleSection(sectionId) {\n                const section = document.getElementById(sectionId);\n                section.classList.toggle('hidden');\n            }\n        \n            function addRow(tbodyId) {\n                const tbody = document.getElementById(tbodyId);\n                const newRow = tbody.querySelector('tr').cloneNode(true);\n                tbody.appendChild(newRow);\n            }\n        \n            function deleteRow(button) {\n                const row = button.parentNode.parentNode;\n                row.parentNode.removeChild(row);\n            }\n        </script>\n        \n\n        <p class=\"small-note\">Signature et cachet médecin prescripteur : \n            <br>\n        </p> --}}\n    </div>\n\n"
        }
    ]
}