{
    "sourceFile": "resources/views/pages/backend/comptabilite/estimations/create.blade.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1732793802713,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1732793802713,
            "name": "Commit-0",
            "content": "<x-app-layout>\n    <x-sidebar/>\n    @if (session('success'))\n        <x-succes-notification>\n            {{ session('success') }}\n        </x-succes-notification>\n        <script>\n            document.addEventListener('DOMContentLoaded', function () {\n                const notification = document.getElementById('success-notification-content');\n                const closeBtn = document.getElementById('close-notification');\n                \n                notification.classList.remove('hidden');\n                \n                closeBtn.addEventListener('click', () => {\n                    notification.classList.add('hidden');\n                });\n            });\n        </script>\n    @endif\n\n    <x-content-page>\n        @section('navigation-content')\n            <x-breadcrumb :breadcrumbItems=\"$breadcrumbsItems\" :pageTitle=\"$pageTitle\"/>\n        @endsection      \n\n        <div class=\"flex-1 p-6\">\n            <x-header>\n                {{$pageTitle}}\n            </x-header>\n            \n            <div class=\"p-6 mx-auto mt-4 bg-white min-h-screen rounded-b-lg shadow-lg \">\n                <div class=\"w-3/4 mx-auto\">\n                    <h2 class=\"mb-4 text-xl font-bold text-gray-900 dark:text-white\">Ajouter une nouvelle estimation</h2>\n                \n                    <form method=\"POST\" action=\"{{ route('estimations.store') }}\" enctype=\"multipart/form-data\">\n                        @csrf\n                        \n<<<<<<< Updated upstream\n                        \n\n                        <div class=\"grid gap-3 sm:grid-cols-2 sm:gap-6\">\n\n\n=======\n\n                        <div class=\"grid gap-3 sm:grid-cols-2 sm:gap-6\">\n\n>>>>>>> Stashed changes\n                            <!-- Catégorie estimation -->\n                            <div class=\"w-full\">\n                                <label for=\"categorie_id\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Catégorie</label>\n                                <select name=\"categorie_id\" id=\"categorie_id\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\" required>\n                                    <option value=\"\">Sélectionnez une catégorie</option>\n                                    @foreach ($categories as $categorie)\n                                        {{-- <option value=\"{{ $categorie->uuid  }}\" data-children=\"{{ json_encode($categorie->children) }}\">{{ $categorie->nom }}</option> --}}\n                                        <option value=\"{{ $categorie->uuid }}\" data-children=\"{{ json_encode($categorie->children) }}\" {{ old('categorie_id') == $categorie->uuid ? 'selected' : '' }}>{{ $categorie->nom }}</option>\n\n                                    @endforeach\n                                </select>\n                            </div>\n                            \n                            <div class=\"w-full \" id=\"sous-categorie-container\" style=\"display: none;\">\n                                <label for=\"sous_categorie_id\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Sous-catégorie</label>\n                                <select name=\"sous_categorie_id\" id=\"sous_categorie_id\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\">\n                                    <option value=\"\">Sélectionnez une sous-catégorie</option>\n                                </select>\n                            </div>\n                            \n                            <!-- Description estimation -->\n                            <div class=\"w-full col-span-2\">\n                                <label for=\"description\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Description</label>\n                                <textarea name=\"description\" id=\"description\" rows=\"4\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\" placeholder=\"Description estimation\" required></textarea>\n                            </div>\n                            \n                            \n                            \n<<<<<<< Updated upstream\n                            \n                            \n                            \n=======\n>>>>>>> Stashed changes\n                            <script>\n                                document.getElementById('categorie_id').addEventListener('change', function() {\n                                    var selectedOption = this.options[this.selectedIndex];\n                                    var children = JSON.parse(selectedOption.getAttribute('data-children'));\n                                    var sousCategorieContainer = document.getElementById('sous-categorie-container');\n                                    var sousCategorieSelect = document.getElementById('sous_categorie_id');\n                            \n                                    // Réinitialiser le select des sous-catégories\n                                    sousCategorieSelect.innerHTML = '<option value=\"\">Sélectionnez une sous-catégorie</option>';\n                            \n                                    if (children.length > 0) {\n                                        sousCategorieContainer.style.display = 'block'; // Afficher le conteneur des sous-catégories\n                                        children.forEach(function(child) {\n                                            var option = document.createElement('option');\n                                            option.value = child.uuid; // Assurez-vous que 'id' existe dans vos données enfants\n                                            option.textContent = child.nom; // Assurez-vous que 'nom' existe dans vos données enfants\n                                            sousCategorieSelect.appendChild(option);\n                                        });\n                                    } else {\n                                        sousCategorieContainer.style.display = 'none'; // Cacher le conteneur si pas d'enfants\n                                    }\n                                });\n                            </script>\n                \n                        </div>\n\n                        <div class=\"grid gap-3 sm:grid-cols-3 sm:gap-6 mb-3\">\n                \n                            <!-- Montant de estimation -->\n                            <div class=\"w-full\">\n                                <label for=\"montant\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Montant</label>\n                                <input type=\"number\" name=\"montant\" id=\"montant\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\" placeholder=\"Montant de la estimation\" required>\n                            </div>\n\n                            <!-- Periode estimation -->\n                            <div class=\"w-full\">\n                                <label for=\"periode\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Période</label>\n                                <select name=\"periode\" id=\"periode\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\" required>\n                                    <option value=\"\" disabled selected>Choisir un trimestre</option>\n                                    <option value=\"T1\">Trimestre 1</option>\n                                    <option value=\"T2\">Trimestre 2</option>\n                                    <option value=\"T3\">Trimestre 3</option>\n                                    <option value=\"T4\">Trimestre 4</option>\n                                </select>\n                            </div>\n\n                            <!-- Année estimation -->\n                            <div class=\"w-full\">\n                                <label for=\"annee\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Année</label>\n                                <input type=\"number\" name=\"annee\" id=\"annee\" min=\"2020\" max=\"2100\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\" required>\n                            </div>\n<<<<<<< Updated upstream\n\n                            <!-- Description estimation -->\n                            <div class=\"w-full col-span-3\">\n                                <label for=\"description\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Description</label>\n                                <textarea name=\"description\" id=\"description\" rows=\"4\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\" placeholder=\"Description estimation\" required></textarea>\n                            </div>\n                            \n                        </div>\n\n                        <div class=\"grid gap-3 sm:grid-cols-3 sm:gap-6 mb-3\">\n                \n                            <!-- Montant de estimation -->\n                            <div class=\"w-full\">\n                                <label for=\"montant\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Montant</label>\n                                <input type=\"number\" name=\"montant\" id=\"montant\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\" placeholder=\"Montant de la estimation\" required>\n                            </div>\n\n                            <!-- Periode estimation -->\n                            <div class=\"w-full\">\n                                <label for=\"periode\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Période</label>\n                                <select name=\"periode\" id=\"periode\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\" required>\n                                    <option value=\"\" disabled selected>Choisir un trimestre</option>\n                                    <option value=\"T1\">Trimestre 1</option>\n                                    <option value=\"T2\">Trimestre 2</option>\n                                    <option value=\"T3\">Trimestre 3</option>\n                                    <option value=\"T4\">Trimestre 4</option>\n                                </select>\n                            </div>\n\n                            <!-- Année estimation -->\n                            <div class=\"w-full\">\n                                <label for=\"annee\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Année</label>\n                                <input type=\"number\" name=\"annee\" id=\"annee\" min=\"2020\" max=\"2100\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\" required>\n                            </div>\n=======\n>>>>>>> Stashed changes\n                        </div>\n                \n                        <button type=\"submit\" class=\"mt-5 text-white bg-primary1 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800\">\n                            Ajouter Estimation\n                        </button>\n                    </form>\n                </div>\n                \n                        \n            </div>\n        </div>\n    </x-content-page>\n    \n</x-app-layout>\n"
        }
    ]
}