{
    "sourceFile": "resources/views/livewire/brouillon.blade.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1732793802724,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1732793802724,
            "name": "Commit-0",
            "content": "<div class=\"mx-auto w-full max-w-screen-lg px-4 sm:px-6 md:px-8 z-10\">\n    <div class=\"w-full md:w-5/6 mx-auto mt-6 md:mt-10\">\n        <!-- Stepper -->\n        <div class=\"flex justify-between items-center mb-4 md:mb-6\">\n            @for ($step = 1; $step <= $totalSteps; $step++)\n                <div class=\"flex justify-center flex-col items-center flex-1\">\n                    <div class=\"relative flex items-center w-full\">\n                        <!-- Connecting Line -->\n                        @if ($step > 1 && $step <= $totalSteps)\n                            <div class=\"flex-1 h-1 {{ $currentStep >= $step ? 'bg-primary1' : 'bg-gray-300' }}\"\n                                 style=\"height: 3px; margin-left: -0.5rem;\"></div>\n                        @endif\n                        <!-- Step Circle -->\n                        <div class=\"w-5 h-5 sm:w-6 sm:h-6 md:w-8 md:h-8 flex shadow-lg items-center justify-center {{ $currentStep >= $step ? 'bg-primary1' : 'bg-gray-300' }} rounded-full text-white z-10\">\n                            @if ($currentStep > $step)\n                                <i class=\"fa fa-check\"></i>\n                            @else\n                                {{ $step }}\n                            @endif\n                        </div>\n                        <!-- Connecting Line -->\n                        @if ($step < $totalSteps)\n                            <div class=\"flex-1 h-1 {{ $currentStep > $step ? 'bg-primary1' : 'bg-gray-300' }}\"\n                                style=\"height: 3px; margin-left: -0.5rem;\"></div>\n                        @endif\n                    </div>\n                    <!-- Step Label -->\n                    <div class=\"text-xs mt-2 text-center w-full h-12 overflow-hidden\">\n                        <p class=\"step-label whitespace-normal break-words\">\n                            @if ($step == 1) Références de l&apos;adhérent\n                            @elseif ($step == 2) Etat civil\n                            @elseif ($step == 3) Informations personnelles\n                            @elseif ($step == 4) Informations professionnelles\n                            @elseif ($step == 5) Récapitulatif\n                            @endif\n                        </p>\n                    </div>\n                </div>\n            @endfor\n        </div>\n\n        <!-- Contenu des étapes -->\n        <div id=\"wizard-top\" class=\"shadow-lg border rounded-lg border-gray-200 px-4 md:px-5 pt-2 md:pt-6 pb-6 md:pb-8 mb-4\">\n            <h2 class=\"text-lg sm:text-xl font-bold mb-1 md:mb-5 text-gray-800 text-center\">\n                @if ($currentStep == 1) 1. Références de l&apos;adhérent\n                @elseif ($currentStep == 2) 2. Etat civil\n                @elseif ($currentStep == 3) 3. Informations personnelles\n                @elseif ($currentStep == 4) 4. Informations professionnelles\n                @elseif ($currentStep == 5) 5. Récapitulatif\n                @endif\n            </h2>\n            <div class=\"overflow-y-auto max-h-[500px] sm:scrollbar-thin px-1 sm:px-4\">\n                <!-- Étape 1 -->\n                @if ($currentStep == 1)\n                    <div>\n                        <!-- Grille pour Matricule et NIP -->\n                        <div class=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 gap-3 sm:gap-4\">\n        \n                            <!-- Matricule -->\n                            <div>\n                                <label class=\"block text-gray-700 text-sm font-bold mb-1\" for=\"matricule\">Matricule</label>\n                                <input wire:model=\"matricule\" id=\"matricule\" type=\"text\"\n                                    class=\"bg-gray-50 appearance-none border-2 rounded w-full py-1 sm:py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline mb-0 sm:mb-4\">\n                                @error('matricule')\n                                    <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                @enderror\n                            </div>\n        \n                            <!-- NIP -->\n                            <div>\n                                <label class=\"block text-gray-700 text-sm font-bold mb-1\" for=\"nip\">NIP</label>\n                                <input wire:model=\"nip\" id=\"nip\" type=\"text\"\n                                    class=\"bg-gray-50 appearance-none border-2 rounded w-full py-1 sm:py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline  mb-0 sm:mb-4\">\n                                @error('nip')\n                                    <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                @enderror\n                            </div>\n        \n                        </div>\n\n                        <!-- Grille pour N° CNIB, Délivré le, et Expire le -->\n                        <div class=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4 mt-3\">\n        \n                            <!-- N° CNIB -->\n                            <div>\n                                <label class=\"block text-gray-700 text-sm font-bold mb-1\" for=\"cnib\">N° CNIB</label>\n                                <input wire:model=\"cnib\" id=\"cnib\" type=\"text\"\n                                    class=\"bg-gray-50 appearance-none border-2 rounded w-full py-1 sm:py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline  mb-0 sm:mb-4\">\n                                @error('cnib')\n                                    <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                @enderror\n                            </div>\n                        \n                            <!-- Délivré le -->\n                            <div>\n                                <label class=\"block text-gray-700 text-sm font-bold mb-1\" for=\"delivree\">Délivré le</label>\n                                <input wire:model=\"delivree\" id=\"delivree\" type=\"date\"\n                                    class=\"bg-gray-50 appearance-none border-2 rounded w-full py-1 sm:py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline  mb-0 sm:mb-4\"\n                                        wire:change=\"updateExpire\">\n                                @error('delivree')\n                                    <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                @enderror\n                            </div>\n        \n                            <!-- Expire le -->\n                            <div>\n                                <label class=\"block text-gray-700 text-sm font-bold mb-1\" for=\"expire\">Expire le</label>\n                                <input wire:model=\"expire\" id=\"expire\" type=\"date\"\n                                    class=\"bg-gray-50 appearance-none border-2 rounded w-full py-1 sm:py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline  mb-0 sm:mb-4\" readonly>\n                                @error('expire')\n                                    <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                @enderror\n                            </div>\n        \n                            <!-- Adresse permanente -->\n                            <div>\n                                <label class=\"block text-gray-700 text-sm font-bold mb-1\" for=\"adresse_permanente\">Adresse permanente</label>\n                                <input wire:model=\"adresse_permanente\" id=\"adresse_permanente\" type=\"text\"\n                                    class=\"bg-gray-50 appearance-none border-2 rounded w-full py-1 sm:py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline  mb-0 sm:mb-4\">\n                                @error('adresse_permanente')\n                                    <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                @enderror\n                            </div>\n            \n                            <!-- Téléphone -->\n                            <div>\n                                <label class=\"block text-gray-700 text-sm font-bold mb-1\" for=\"telephone\">Téléphone</label>\n                                <input wire:model=\"telephone\" id=\"telephone\" type=\"text\"\n                                    class=\"bg-gray-50 appearance-none border-2 rounded w-full py-1 sm:py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline  mb-0 sm:mb-4\">\n                                @error('telephone')\n                                    <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                @enderror\n                            </div>\n        \n                            <!-- Email -->\n                            <div>\n                                <label class=\"block text-gray-700 text-sm font-bold mb-1\" for=\"email\">Email</label>\n                                <input wire:model=\"email\" id=\"email\" type=\"email\"\n                                    class=\"bg-gray-50 appearance-none border-2 rounded w-full py-1 sm:py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline  mb-0 sm:mb-4\">\n                                @error('email')\n                                    <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                @enderror\n                            </div>\n                        </div>\n                    </div>\n                @endif\n        \n\n        \n                <!-- Étape 2 -->\n                @if ($currentStep == 2)\n                    <div>\n                        <!-- Grille pour Nom(s), Prénom(s), et Genre -->\n                        <div class=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4\">\n        \n                            <!-- Nom(s) -->\n                            <div>\n                                <label class=\"block text-gray-700 text-sm font-bold mb-1\" for=\"nom\">Nom(s)</label>\n                                <input wire:model=\"nom\" id=\"nom\" type=\"text\"\n                                    class=\"bg-gray-50 appearance-none border-2 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline  mb-0 sm:mb-4\">\n                                @error('nom')\n                                    <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                @enderror\n                            </div>\n        \n                            <!-- Prénom(s) -->\n                            <div>\n                                <label class=\"block text-gray-700 text-sm font-bold mb-1\" for=\"prenom\">Prénom(s)</label>\n                                <input wire:model=\"prenom\" id=\"prenom\" type=\"text\"\n                                    class=\"bg-gray-50 appearance-none border-2 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline  mb-0 sm:mb-4\">\n                                @error('prenom')\n                                    <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                @enderror\n                            </div>\n        \n                            <!-- Genre (Radio buttons) -->\n                            <div>\n                                <label class=\"block text-gray-700 text-sm font-bold mb-1\">Genre</label>\n                                <div class=\"flex items-center mb-4\">\n                                    <input wire:model=\"genre\" id=\"masculin\" type=\"radio\" value=\"Masculin\" class=\"mr-2\">\n                                    <label for=\"masculin\" class=\"mr-6\">Masculin</label>\n        \n                                    <input wire:model=\"genre\" id=\"feminin\" type=\"radio\" value=\"Féminin\" class=\"mr-2\">\n                                    <label for=\"feminin\">Féminin</label>\n                                </div>\n                                @error('genre')\n                                    <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                @enderror\n                            </div>\n        \n                        </div>\n        \n        \n                        <!-- Lieu de naissance (sous forme de grille) -->\n                        <fieldset class=\" border-2 border-gray-300 shadow-sm p-2 mt-1 mb-3 rounded-md bg-gray-100\">\n                            <legend class=\"block text-gray-700 text-sm font-bold mb-2\">Lieu de naissance</legend>\n                            <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                                <!-- Département -->\n                                <div>\n                                    <label class=\"block text-gray-700 text-sm font-bold mb-1\" for=\"departement\">Département</label>\n                                    <input wire:model=\"departement\" id=\"departement\" type=\"text\"\n                                        class=\"bg-gray-50 appearance-none border-2 rounded w-full py-1 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline  mb-0 sm:mb-4\">\n                                    @error('departement')\n                                        <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                    @enderror\n                                </div>\n            \n                                <!-- Ville / Village -->\n                                <div>\n                                    <label class=\"block text-gray-700 text-sm font-bold mb-1\" for=\"ville\">Ville / Village</label>\n                                    <input wire:model=\"ville\" id=\"ville\" type=\"text\"\n                                        class=\"bg-gray-50 appearance-none border-2 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline  mb-0 sm:mb-4\">\n                                    @error('ville')\n                                        <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                    @enderror\n                                </div>\n            \n                                <!-- Pays (Si hors Burkina) -->\n                                <div>\n                                    <label class=\"block text-gray-700 text-sm font-bold mb-1\" for=\"pays\">Pays </label>\n                                    <input wire:model=\"pays\" id=\"pays\" type=\"text\"\n                                        class=\"bg-gray-50 appearance-none border-2 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline  mb-0 sm:mb-4\">\n                                    @error('pays')\n                                        <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                    @enderror\n                                </div>\n                            </div>\n                        </fieldset>\n        \n                        <!-- Grille pour Nom et Prénom(s) du père et de la mère -->\n                        <div class=\"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 gap-4\">\n        \n                            <!-- Nom et Prénom(s) du père -->\n                            <div>\n                                <label class=\"block text-gray-700 text-sm font-bold mb-1\" for=\"nom_pere\">Nom et Prénom(s) du\n                                    père</label>\n                                <input wire:model=\"nom_pere\" id=\"nom_pere\" type=\"text\"\n                                    class=\"bg-gray-50 appearance-none border-2 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline  mb-0 sm:mb-4\">\n                                @error('nom_pere')\n                                    <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                @enderror\n                            </div>\n        \n                            <!-- Nom et Prénom(s) de la mère -->\n                            <div>\n                                <label class=\"block text-gray-700 text-sm font-bold mb-1\" for=\"nom_mere\">Nom et Prénom(s) de\n                                    la mère</label>\n                                <input wire:model=\"nom_mere\" id=\"nom_mere\" type=\"text\"\n                                    class=\"bg-gray-50 appearance-none border-2 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline  mb-0 sm:mb-4\">\n                                @error('nom_mere')\n                                    <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                @enderror\n                            </div>\n        \n                        </div>\n                        \n        \n                    </div>\n                @endif\n        \n                <!-- Étape 3 -->\n                @if ($currentStep == 3)\n                    <div>\n                        <!-- Situation matrimoniale -->\n                        <div class=\"mt-4 grid grid-cols-3 gap-4\">\n                            <div class=\" col-span-2\">\n                                <label class=\"block text-gray-700 text-sm font-bold mb-1\">Situation matrimoniale</label>\n                                <div class=\"flex flex-wrap gap-3 items-center mb-4\">\n                                    <label class=\"inline-flex items-center mt-2\">\n                                        <input type=\"radio\" wire:model=\"situation_matrimoniale\" value=\"Célibataire\"\n                                            class=\"form-radio text-indigo-600\">\n                                        <span class=\"ml-2\">Célibataire</span>\n                                    </label>\n                                    <label class=\"inline-flex items-center mt-2\">\n                                        <input type=\"radio\" wire:model=\"situation_matrimoniale\" value=\"Marié(e)\"\n                                            class=\"form-radio text-indigo-600\">\n                                        <span class=\"ml-2\">Marié(e)</span>\n                                    </label>\n                                    <label class=\"inline-flex items-center mt-2\">\n                                        <input type=\"radio\" wire:model=\"situation_matrimoniale\" value=\"Divorcé(e)\"\n                                            class=\"form-radio text-indigo-600\">\n                                        <span class=\"ml-2\">Divorcé(e)</span>\n                                    </label>\n                                    <label class=\"inline-flex items-center mt-2\">\n                                        <input type=\"radio\" wire:model=\"situation_matrimoniale\" value=\"Veuf(ve)\"\n                                            class=\"form-radio text-indigo-600\">\n                                        <span class=\"ml-2\">Veuf(ve)</span>\n                                    </label>\n                                </div>\n                                @error('situation_matrimoniale')\n                                    <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                @enderror\n                                <!-- Personne à prévenir en cas de besoin -->\n                                <fieldset class=\" border-2 border-gray-300 shadow-sm p-2 mt-1 mb-3 rounded-md bg-gray-100\">\n                                    <legend class=\"block text-gray-700 text-sm font-bold mb-2\">Personne à prévenir en cas de besoin</legend>\n                                    <div class=\"\">\n                                        <label class=\"block text-gray-700 text-sm font-bold mb-1\"\n                                            for=\"nom_prenom_personne_besoin\">Nom et prénoms (s)</label>\n                                        <input wire:model=\"nom_prenom_personne_besoin\" id=\"nom_prenom_personne_besoin\" type=\"text\"\n                                            class=\"bg-gray-50 appearance-none border-2 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline  mb-0 sm:mb-4\">\n                                        @error('nom_prenom_personne_besoin')\n                                            <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                        @enderror\n                                    </div>\n                                    <div class=\"grid grid-cols-2 gap-2 mt-2\">\n        \n                                        <!-- Lieu de résidence -->\n                                        <div>\n                                            <label class=\"block text-gray-700 text-sm font-bold mb-1\" for=\"lieu_residence\">Lieu de\n                                                résidence</label>\n                                            <input wire:model=\"lieu_residence\" id=\"lieu_residence\" type=\"text\"\n                                                class=\"bg-gray-50 appearance-none border-2 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline  mb-0 sm:mb-4\">\n                                            @error('lieu_residence')\n                                                <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                            @enderror\n                                        </div>\n                \n                                        <!-- Téléphone -->\n                                        <div>\n                                            <label class=\"block text-gray-700 text-sm font-bold mb-1\"\n                                                for=\"telephone_personne_prevenir\">Téléphone</label>\n                                            <input wire:model=\"telephone_personne_prevenir\" id=\"telephone_personne_prevenir\"\n                                                type=\"text\"\n                                                class=\"bg-gray-50 appearance-none border-2 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline  mb-0 sm:mb-4\">\n                                            @error('telephone')\n                                                <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                            @enderror\n                                        </div>\n                                    </div>\n                                </fieldset>\n                                \n        \n                                \n        \n                            </div>\n        \n                            <div class=\"col-span-1\">\n                                <label class=\"block text-gray-700 text-sm font-bold mb-1\" for=\"photo\">Photo</label>\n                                <div class=\"w-full justify-center border rounded-md p-1 border-gray-500 row-span-3\">\n                                    @if ($photo)\n                                        <img src=\"{{ $photo->temporaryUrl() }}\" alt=\"Preview\" class=\"w-48 h-48 object-cover mx-auto rounded-full\">\n                                    @else\n                                        <img src=\"{{ asset('images/user-90.png') }}\" alt=\"Default profile photo\" class=\"w-36 h-36 object-cover mx-auto rounded-full\">\n                                    @endif\n                                </div>\n                                <input type=\"file\" wire:model=\"photo\" id=\"photo\" accept=\"image/jpg, image/jpeg\" class=\"my-1 block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 \n                                    file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 \n                                    file:text-blue-700 hover:file:bg-violet-100\"/>\n                                \n                                @error('photo') \n                                    <span class=\"text-red-500 text-sm\">{{ $message }}</span>\n                                @enderror\n                            </div>\n                            \n        \n                            <div class=\"overflow-x-auto \">\n                                <label class=\"block text-gray-700 text-sm font-bold mb-1\"\n                                    for=\"changeNombreAyantsDroits\">Nombre d&apos;ayants-droits</label>\n                                <select class=\"border-2 bg-gray-50 rounded w-full py-1\"\n                                    wire:change=\"changeNombreAyantsDroits($event.target.value)\">\n                                    <option value=\"\" disabled selected>Choisissez un nombre</option>\n                                    <option value=\"0\">0</option>\n                                    <option value=\"1\">1</option>\n                                    <option value=\"2\">2</option>\n                                    <option value=\"3\">3</option>\n                                    <option value=\"4\">4</option>\n                                    <option value=\"5\">5</option>\n                                    <option value=\"6\">6</option>\n                                </select>\n                                @error('nombreAyantsDroits') \n                                <span class=\"text-red-500 text-sm\">{{ $message }}</span>\n                                @enderror\n                            </div>\n                            <div class=\"col-span-3\">\n                                @if ($nombreAyantsDroits > 0)\n                                    @for ($i = 0; $i < $nombreAyantsDroits; $i++)\n                                        <div class=\"border bg-gray-100 p-4 rounded mb-2 col-span-3 shadow-lg mt-2\">\n                                            <h3 class=\"font-bold mb-2\">Ayant Droit {{ $i + 1 }}</h3>\n                                            \n                                            <div class=\"grid grid-cols-1 gap-4 md:grid-cols-2\">\n                                                <div class=\"mt-2\">\n                                                    <label class=\"block text-gray-700 text-sm font-bold mb-1\">Nom</label>\n                                                    <input type=\"text\" wire:model=\"ayantsDroits.{{ $i }}.nom\" class=\"border rounded w-full py-1\" >\n                                                    <!-- Affichage des erreurs pour le champ \"nom\" -->\n                                                    @error('ayantsDroits.' . $i . '.nom')\n                                                        <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                                    @enderror\n                                                </div>\n                                                <div class=\"mt-2\">\n                                                    <label class=\"block text-gray-700 text-sm font-bold mb-1\">Prénom(s)</label>\n                                                    <input type=\"text\" wire:model=\"ayantsDroits.{{ $i }}.prenom\" class=\"border rounded w-full py-1\">\n                                                    <!-- Affichage des erreurs pour le champ \"prenom\" -->\n                                                    @error('ayantsDroits.' . $i . '.prenom')\n                                                        <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                                    @enderror\n                                                </div>\n                                            </div>\n                            \n                                            <!-- Informations démographiques -->\n                                            <div class=\"grid grid-cols-1 gap-4 md:grid-cols-3\">\n                                                <div class=\"mt-2\">\n                                                    <label class=\"block text-gray-700 text-sm font-bold mb-1\">Genre</label>\n                                                    <select wire:model=\"ayantsDroits.{{ $i }}.sexe\" class=\"border rounded w-full py-1\">\n                                                        <option value=\"\" disabled selected>Sélectionner</option>\n                                                        <option value=\"M\">Homme</option>\n                                                        <option value=\"F\">Femme</option>\n                                                    </select>\n                                                    <!-- Affichage des erreurs pour le champ \"sexe\" -->\n                                                    @error('ayantsDroits.' . $i . '.sexe')\n                                                        <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                                    @enderror\n                                                </div>\n                                                <div class=\"mt-2\">\n                                                    <label class=\"block text-gray-700 text-sm font-bold mb-1\">Date de Naissance</label>\n                                                    <input type=\"date\" wire:model=\"ayantsDroits.{{ $i }}.date_naissance\" class=\"border rounded w-full py-1\">\n                                                    <!-- Affichage des erreurs pour le champ \"date_naissance\" -->\n                                                    @error('ayantsDroits.' . $i . '.date_naissance')\n                                                        <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                                    @enderror\n                                                </div>\n                                                <div class=\"mt-2\">\n                                                    <label class=\"block text-gray-700 text-sm font-bold mb-1\">Lien de Parenté</label>\n                                                    \n                                                    <select wire:model=\"ayantsDroits.{{ $i }}.relation\" wire:change=\"changeLienParente($event.target.value, {{ $i }})\" class=\"border-2 rounded w-full py-1\">\n                                                        <option value=\"\" disabled selected>Sélectionnez un lien</option>\n                                                        <option value=\"conjoint\">Conjoint (e)</option>\n                                                        <option value=\"enfant\">Enfant</option>\n                                                    </select>\n                                                    @error('ayantsDroits.' . $i . '.relation')\n                                                        <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                                    @enderror\n                                                </div>\n                                            </div>\n\n                                            <!-- Champ pour la photo de la CNIB si le lien de parenté est \"conjoint\" -->\n                                            @if (isset($ayantsDroits[$i]['relation']) && strtolower($ayantsDroits[$i]['relation']) === 'conjoint')\n                                                <div class=\"mt-4\">\n                                                    <label class=\"block text-gray-700 text-sm font-bold mb-1\">CNIB (en PDF)</label>\n                                                    <div class=\"w-full justify-center border-2 rounded-md p-1 border-gray-700\">\n                                                        <input type=\"file\" wire:model=\"ayantsDroits.{{ $i }}.cnib\" class=\"w-full py-2\"  accept='.pdf'>\n                                                        \n                                                        @error('ayantsDroits.' . $i . '.cnib')\n                                                            <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                                        @enderror\n                                                    </div>\n                                                </div>\n                                            @endif\n\n                                            <div class=\"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4\" wire:key=\"ayantDroit-{{ $i }}\">\n                                                <!-- Photo ayant droit -->\n                                                <div>\n                                                    <label class=\"block text-gray-700 text-sm font-bold mb-1\">Photo de l&apos;ayant droit</label>\n                                                    <div class=\"w-full justify-center border-2 rounded-md p-1 border-gray-700\">\n                                                        <!-- Upload photo -->\n                                                        <input type=\"file\" wire:model=\"ayantsDroits.{{ $i }}.photo\" class=\"w-full py-2\" accept=\"image/jpg, image/jpeg\">\n                                                        \n                                                        <!-- Afficher une prévisualisation de la photo si elle est uploadée -->\n                                                        @if (isset($ayantsDroits[$i]['photo']))\n                                                            <img src=\"{{ $ayantsDroits[$i]['photo']->temporaryUrl() }}\" class=\"w-20 h-20\">\n                                                        @endif\n                                                        \n                                                        @error('ayantsDroits.' . $i . '.photo')\n                                                            <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                                        @enderror\n                                                    </div>\n                                                </div>\n                                            \n                                                <!-- Photo de extrait acte de naissance -->\n                                                <div>\n                                                    <label class=\"block text-gray-700 text-sm font-bold mb-1\">Extrait d&apos;acte de naissance (en PDF)</label>\n                                                    <div class=\"w-full justify-center border-2 rounded-md p-1 border-gray-700\">\n                                                        <input type=\"file\" wire:model=\"ayantsDroits.{{ $i }}.extrait\" class=\"w-full py-2\"  accept='.pdf'>\n        \n                                                        @error('ayantsDroits.' . $i . '.extrait')\n                                                            <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                                        @enderror\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        \n                                            \n                                        </div>\n                                    @endfor\n                                @endif\n                            </div>\n                            \n                            \n                        </div>\n                @endif\n        \n                <!-- Étape 4 -->\n                @if ($currentStep == 4)\n                    <div>\n                        <label class=\"block text-gray-700 text-sm font-bold mb-2\">Statut</label>\n                        <div class=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mt-4\">\n                            <div>\n                                <label class=\"inline-flex items-center mt-2\">\n                                    <input name=\"statut\" type=\"radio\" wire:click=\"changeStatut('personnel_retraite')\"\n                                        class=\"form-radio text-indigo-600\">\n                                    <span class=\"ml-2\">Personnel retraité</span>\n                                </label>\n                            </div>\n                            <div>\n                                <label class=\"inline-flex items-center mt-2\">\n                                    <input name=\"statut\" type=\"radio\" wire:click=\"changeStatut('personnel_active')\"\n                                        class=\"form-radio text-indigo-600\">\n                                    <span class=\"ml-2\">Personnel en activité</span>\n                                </label>\n                            </div>\n                        </div>\n        \n                        <!-- Champs pour Personnel Retraité -->\n                        @if ($statut === 'personnel_retraite')\n                            <div class=\"mt-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4\">\n\n                                {{-- Grade --}}\n                                <div>\n                                    <label class=\"block text-gray-700 text-sm font-bold mb-1\">Grade</label>\n                                    <select wire:model=\"grade\" class=\"border-2 bg-gray-50 rounded w-full py-1\">\n                                        <option value=\"\" disabled selected>Sélectionnez un grade</option>\n                                        @foreach($grades as $gradeOption)\n                                            <option value=\"{{ $gradeOption }}\">{{ $gradeOption }}</option>\n                                        @endforeach\n                                    </select>\n                                    @error('grade')\n                                        <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                    @enderror\n                                </div>\n                                \n                                \n\n                                <div>\n                                    <label class=\"block text-gray-700 text-sm font-bold mb-1\">Départ à la retraite</label>\n                                    <input type=\"date\" wire:model=\"departARetraite\" class=\"border-2 bg-gray-50 rounded w-full py-1\">\n                                    @error('departARetraite')\n                                        <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                    @enderror\n                                </div>\n        \n                                <div>\n                                    <label class=\"block text-gray-700 text-sm font-bold mb-1\">Numéro CARFO</label>\n                                    <input type=\"text\" wire:model=\"numeroCARFO\" class=\"border-2 bg-gray-50 rounded w-full py-1\">\n                                    @error('numeroCARFO')\n                                        <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                    @enderror\n                                </div>\n                            </div>\n                        @endif\n        \n                        <!-- Champs pour Personnel en Activité -->\n                        @if ($statut === 'personnel_active')\n                            <div class=\"mt-4\">\n                                <div class=\"mt-4 grid grid-cols-1 sm:grid-cols-3 gap-4\">\n                                    <div>\n                                        <label class=\"block text-gray-700 text-sm font-bold mb-1\">Grade</label>\n                                        <select wire:model=\"grade\" class=\"border-2 bg-gray-50 rounded w-full py-1\">\n                                            <option value=\"\" disabled selected>Sélectionnez un grade</option>\n                                            @foreach($grades as $gradeOption)\n                                                <option value=\"{{ $gradeOption }}\">{{ $gradeOption }}</option>\n                                            @endforeach\n                                        </select>\n                                        @error('grade')\n                                            <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                        @enderror\n                                    </div>\n                                    \n        \n                                    <div>\n                                        <label class=\"block text-gray-700 text-sm font-bold mb-1\">Date d&apos;intégration</label>\n                                        <input type=\"date\" wire:model=\"dateIntegration\"\n                                            class=\"border-2 bg-gray-50 rounded w-full py-1\">\n                                        @error('dateIntegration')\n                                            <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                        @enderror\n                                    </div>\n        \n                                    <div>\n                                        <label class=\"block text-gray-700 text-sm font-bold mb-1\">Date de départ à la retraite</label>\n                                        <input type=\"date\" wire:model=\"dateDepartARetraite\"\n                                            class=\"border-2 bg-gray-50 rounded w-full py-1\">\n                                        @error('dateDepartARetraite')\n                                            <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                        @enderror\n                                    </div>\n                                </div>\n        \n                                <div class=\"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                                    <div>\n                                        <label class=\"block text-gray-700 text-sm font-bold mb-1\">Direction</label>\n                                        <input type=\"text\" wire:model=\"direction\" class=\"border-2 bg-gray-50 rounded w-full py-1\">\n                                        @error('direction')\n                                            <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                        @enderror\n                                    </div>\n        \n                                    <div>\n                                        <label class=\"block text-gray-700 text-sm font-bold mb-1\">Service</label>\n                                        <input type=\"text\" wire:model=\"service\" class=\"border-2 bg-gray-50 rounded w-full py-1\">\n                                        @error('service')\n                                            <span class=\"text-red-500 text-xs\">{{ $message }}</span>\n                                        @enderror\n                                    </div>\n                                </div>\n                            </div>\n                        @endif\n                    </div>\n                @endif\n                \n                <!-- Étape 5 -->\n                @if ($currentStep == 5)\n                    <x-formulaire-adhesion\n                        :matricule=\"$matricule\"\n                        :nip=\"$nip\"\n                        :cnib=\"$cnib\"\n                        :delivree=\"$delivree\"\n                        :expire=\"$expire\"\n                        :adresse-permanente=\"$adresse_permanente\"\n                        :telephone=\"$telephone\"\n                        :email=\"$email\"\n                        :nom=\"$nom\"\n                        :prenom=\"$prenom\"\n                        :genre=\"$genre\"\n                        :departement=\"$departement\"\n                        :ville=\"$ville\"\n                        :pays=\"$pays\"\n                        :nom-pere=\"$nom_pere\"\n                        :nom-mere=\"$nom_mere\"\n                        :situation-matrimoniale=\"$situation_matrimoniale\"\n                        :nom-prenom-personne-besoin=\"$nom_prenom_personne_besoin\"\n                        :lieu-residence=\"$lieu_residence\"\n                        :telephone-personne-prevenir=\"$telephone_personne_prevenir\"\n                        :photo=\"$photo\"\n                        :photo-path-adherent=\"$photo_path_adherent\"\n                        :photo-path-ayantdroit=\"$photo_path_ayantdroit\"\n                        :date-integration=\"$dateIntegration\"\n                        :date-depart-a-retraite=\"$dateDepartARetraite\"\n                        :direction=\"$direction\"\n                        :service=\"$service\"\n                        :statut=\"$statut\"\n                        :grade=\"$grade\"\n                        :depart-a-retraite=\"$departARetraite\"\n                        :numero-carfo=\"$numeroCARFO\"\n                        :nombre-ayants-droits=\"$nombreAyantsDroits\"\n                        :ayants-droits=\"$ayantsDroits\"\n                        :signature=\"$signature\"\n                        :signature-image=\"$signatureImage\"\n                    />\n                @endif\n            </div>\n\n    \n    \n            <!-- Boutons de navigation -->\n            <div class=\"flex justify-between mt-5\">\n                @if ($currentStep > 1)\n                    <button wire:click=\"previousStep\" onclick=\"scrollToTop()\"\n                        class=\"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\">\n                        Précédent\n                    </button>\n                @else\n                    <div></div> <!-- Un div vide pour garder le bouton \"Suivant\" aligné à droite -->\n                @endif\n    \n                <!-- Bouton \"Suivant\" ou \"Soumettre\", toujours aligné à droite -->\n                @if ($currentStep < $totalSteps)\n                    <button wire:click=\"nextStep\" onclick=\"scrollToTop()\"\n                        class=\"bg-primary1 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\">\n                        Suivant\n                    </button>\n                @else\n                    <button wire:click=\"submit\" onclick=\"scrollToTop()\"\n                        class=\"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\">\n                        Soumettre\n                    </button>\n                @endif\n                <script>\n                    function scrollToTop() {\n                        document.getElementById('wizard-top').scrollIntoView({ behavior: 'smooth' });\n                    }\n                </script>\n            </div>\n    \n            <!-- Message de succès -->\n            @if (session()->has('message'))\n                <div class=\"mt-5 p-4 bg-green-200 text-green-800 rounded\">\n                    {{ session('message') }}\n                </div>\n            @endif\n        </div>\n    </div>\n</div>\n"
        }
    ]
}