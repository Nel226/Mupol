{
    "sourceFile": ".history/resources/views/pages/frontend/adherents/resume_adhesion.blade_20241128113623.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1732797138569,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1732797138569,
            "name": "Commit-0",
            "content": "<x-guest-layout>\n    <x-preloader/>\n\n    <x-header-guest/>\n    @if (session()->has('message'))\n        <x-succes-notification id=\"success-notification-content\">\n            {{ session('message') }}\n            <button id=\"close-notification\" class=\"absolute top-0 right-0 p-2\">\n                &times; \n            </button>\n        </x-succes-notification>\n        <script>\n            document.addEventListener('DOMContentLoaded', function () {\n                const notification = document.getElementById('success-notification-content');\n                const closeBtn = document.getElementById('close-notification');\n\n                notification.classList.remove('hidden');\n\n                closeBtn.addEventListener('click', () => {\n                    notification.classList.add('hidden');\n                });\n                setTimeout(() => {\n                    notification.classList.add('hidden');\n                }, 5000); \n            });\n        </script>\n    @endif\n\n    <!-- Breadcrumbs -->\n    <div class=\"breadcrumbs overlay\">\n        <div class=\"container\">\n            <div class=\"bread-inner\">\n                <div class=\"row\">\n                    <div class=\"col-12\">\n                        <h2>Demande d&apos;adhésion MU-POL</h2>\n                        <ul class=\"bread-list\">\n                            <li><a href=\"index.html\">Accueil</a></li>\n                            <li><i class=\"icofont-simple-right\"></i></li>\n                            <li class=\"active\">Adhérer</li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <!-- End Breadcrumbs -->\n            \n    <section class=\" section bg-gray-100\">\n        <div class=\"container\">\n            <div class=\"\">\n                <div class=\"row \"> \n                    \n                    <div class=\"col-lg-12\">\n                        <x-section-guest>\n                            \n                            <div class=\"w-[80%] md:w-3/6 lg:w-3/6  max-w-4xl mx-auto p-6 bg-white shadow-lg border rounded-lg\">\n                                <h2 class=\"text-base font-bold text-center  border-2 border-gray-300 rounded-md p-2 text-gray-800\">Remplir la fiche de cession volontaire</h2>\n                            \n                                <form action=\"{{ route('finalisation-adhesion') }}\" method=\"POST\" enctype=\"multipart/form-data\" class=\"space-y-4\">\n                                    @csrf \n                                    <input type=\"hidden\" name=\"demande_adhesion_id\" value=\"{{ $demandeAdhesion->id }}\">\n                                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                                        <!-- Région -->\n                                        <div>\n                                            <label for=\"region\" class=\"block text-sm font-medium text-gray-700\">Région</label>\n                                            <select id=\"region\" name=\"region\" class=\"mt-1 bg-gray-100 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" required>\n                                                <option value=\"\" disabled selected>Choisissez votre région</option>\n                                                <!-- Options à ajouter ici -->\n                                            </select>\n                                        </div>\n                            \n                                        <!-- Province -->\n                                        <div>\n                                            <label for=\"province\" class=\"block text-sm font-medium text-gray-700\">Province</label>\n                                            <select id=\"province\" name=\"province\" class=\"mt-1 bg-gray-100 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" required disabled>\n                                                <option value=\"\" disabled selected>Choisissez d&apos;abord votre région</option>\n                                            </select>\n                                        </div>\n                            \n                                    </div>\n                                    <script>\n                        \n                        \n                                        document.addEventListener(\"DOMContentLoaded\", function() {\n                                            const regionSelect = document.getElementById(\"region\");\n                                            const provinceSelect = document.getElementById(\"province\");\n                                        \n                                            for (const region in regions) {\n                                                const option = document.createElement(\"option\");\n                                                option.value = region;\n                                                option.textContent = region;\n                                                regionSelect.appendChild(option);\n                                            }\n                                        \n                                            regionSelect.addEventListener(\"change\", function() {\n                                                const selectedRegion = regionSelect.value;\n                                        \n                                                provinceSelect.innerHTML = \"\";\n                                                provinceSelect.disabled = false;\n                                        \n                                                const defaultOption = document.createElement(\"option\");\n                                                defaultOption.value = \"\";\n                                                defaultOption.disabled = true;\n                                                defaultOption.selected = true;\n                                                defaultOption.textContent = \"Choisissez votre province\";\n                                                provinceSelect.appendChild(defaultOption);\n                                        \n                                                regions[selectedRegion].provinces.forEach(province => {\n                                                    const option = document.createElement(\"option\");\n                                                    option.value = province;\n                                                    option.textContent = province;\n                                                    provinceSelect.appendChild(option);\n                                                });\n                                            });\n                                        });\n                                        \n                                    </script>\n                                    <div class=\"grid grid-cols-1 md:grid-cols-1 gap-3\">\n                                        <!-- Localité -->\n                                        <div>\n                                            <label for=\"localite\" class=\"block text-sm font-medium text-gray-700\">Localité</label>\n                                            <input type=\"text\" id=\"localite\" name=\"localite\" class=\"mt-1 bg-gray-100 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" required placeholder=\"Entrez votre localité\">\n                                        </div>\n                                    </div>\n                                    <label for=\"signature\" class=\"block text-sm font-medium text-gray-700\">Signature</label>\n                                    <label for=\"switcher\" class=\"flex justify-center cursor-pointer p-1\">\n                                        <div class=\"relative text-xs bg-gray-200 rounded-full flex gap-3 justify-between p-2 h-[32px]\">\n                                            <input id=\"switcher\" type=\"checkbox\" class=\"hidden peer\" onchange=\"toggleSignatureOptions()\">\n                                            <span class=\"text-center flex-grow relative  z-10  self-center transition text-white peer-checked:text-black\">\n                                                <i class=\"fa fa-pencil\"></i>\n                                                Dessiner\n                                            </span>\n                                            <span class=\"text-center flex-grow relative  z-10 self-center transition peer-checked:text-white\">\n                                                <i class=\"fa fa-image \"></i>\n                                                Charger\n                                            </span>\n                                            <span class=\"absolute toggle  bg-primary1 h-full w-[50%] rounded-full transition-all top-0 left-0 peer-checked:left-[50%]\"></span>\n                                        </div>\n                                    </label>\n                                    \n                                    <!-- Section pour choisir le mode de signature -->\n                                    <div id=\"signatureOptions\" class=\"grid grid-cols-1 md:grid-cols-1 \">\n                                        <!-- Dessiner la signature -->\n                                        <div id=\"drawSignature\" class=\"flex flex-col p-4 border rounded-md bg-white h-full shadow-sm\">\n                                            <h4 class=\"text-center text-sm font-semibold mb-4\">Dessiner la signature</h4>\n                                            <canvas id=\"signatureCanvas\" class=\"border rounded-md bg-white w-full h-40\" style=\"border: 1px solid #000;\"></canvas>\n                                            <input type=\"hidden\" id=\"signatureInput\" name=\"signature\" />\n                                            <div class=\"w-full !text-xs flex justify-between mt-2\">\n                                                <x-primary-button type=\"button\" id=\"saveButton\" class=\"!text-xs bg-emerald-600 p-2 rounded-md text-white  transition\">Enregistrer</x-primary-button>\n                                                <x-primary-button type=\"button\" id=\"clearButton\" class=\"!text-xs bg-gray-400 p-2 rounded-md text-white  transition\">Effacer</x-primary-button>\n                                            </div>\n                                        </div>\n                                    \n                                        <!-- Charger une image de la signature -->\n                                        <div id=\"uploadSignature\" class=\"hidden flex flex-col p-4 border rounded-md bg-white h-full shadow-sm\">\n                                            <h4 class=\"text-center text-sm font-semibold mb-4\">Charger une image de signature</h4>\n                                            <div class=\"border-dashed border-2 border-gray-300 rounded-md p-6 flex-grow flex justify-center items-center\">\n                                                <div class=\"text-center text-xs\">\n                                                    <img id=\"previewImage\" class=\"hidden w-full h-auto max-h-48 object-cover mb-4\" />\n                                                    <p class=\"text-gray-500\">Déposez votre image ici ou</p>\n                                                    <label for=\"signatureImage\" class=\"cursor-pointer text-blue-500 hover:underline\">cliquez pour choisir une image</label>\n                                                    <input type=\"file\" id=\"signatureImage\" class=\"hidden\" accept=\"image/*\" name=\"signatureImage\">\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    \n                                    <script>\n                                        function toggleSignatureOptions() {\n                                            const switcher = document.getElementById('switcher');\n                                            const drawSignature = document.getElementById('drawSignature');\n                                            const uploadSignature = document.getElementById('uploadSignature');\n                                    \n                                            if (switcher.checked) {\n                                                drawSignature.classList.add('hidden');\n                                                uploadSignature.classList.remove('hidden');\n                                            } else {\n                                                drawSignature.classList.remove('hidden');\n                                                uploadSignature.classList.add('hidden');\n                                            }\n                                        }\n                                    </script>\n                                    \n                                    \n                            \n                                    <!-- Bouton de soumission -->\n                                    <div class=\"flex justify-end\">\n                                        <x-primary-button type=\"submit\" class=\"\">Soumettre</x-primary-button>\n                                    </div>\n                                </form>\n                            </div>\n                            \n                            \n                            <script>\n                                const canvas = document.getElementById('signatureCanvas');\n                                const context = canvas.getContext('2d');\n                                let drawing = false;\n                            \n                                canvas.width = canvas.offsetWidth;\n                                canvas.height = canvas.offsetHeight;\n                            \n                                canvas.addEventListener('mousedown', startDrawing);\n                                canvas.addEventListener('mouseup', stopDrawing);\n                                canvas.addEventListener('mousemove', draw);\n                                canvas.addEventListener('mouseleave', stopDrawing);\n                            \n                                function startDrawing(event) {\n                                    drawing = true;\n                                    draw(event);\n                                }\n                            \n                                function stopDrawing() {\n                                    drawing = false;\n                                    context.beginPath();\n                                }\n                            \n                                function draw(event) {\n                                    if (!drawing) return;\n                            \n                                    context.lineWidth = 2;\n                                    context.lineCap = 'round'; \n                                    context.strokeStyle = 'black'; \n                            \n                                    context.lineTo(event.clientX - canvas.getBoundingClientRect().left, event.clientY - canvas.getBoundingClientRect().top);\n                                    context.stroke();\n                                    context.beginPath();\n                                    context.moveTo(event.clientX - canvas.getBoundingClientRect().left, event.clientY - canvas.getBoundingClientRect().top);\n                                }\n                            \n                                // Gérer l'enregistrement de la signature\n                                document.getElementById('saveButton').addEventListener('click', () => {\n                                    const dataURL = canvas.toDataURL(); \n                                    document.getElementById('signatureInput').value = dataURL; \n                                    alert(\"Signature enregistrée !\");\n                                });\n                            \n                                document.getElementById('clearButton').addEventListener('click', () => {\n                                    context.clearRect(0, 0, canvas.width, canvas.height); \n                                    document.getElementById('signatureInput').value = ''; \n                                });\n                            </script>\n                            \n                            <script>\n                                const signatureImageInput = document.getElementById('signatureImage');\n                                const previewImage = document.getElementById('previewImage');\n                                const signatureInput = document.getElementById('signatureInput');\n                            \n                                signatureImageInput.addEventListener('change', function() {\n                                    const file = this.files[0];\n                                    if (file) {\n                                        const reader = new FileReader();\n                                        reader.onload = function(e) {\n                                            previewImage.src = e.target.result;\n                                            previewImage.classList.remove('hidden');\n                            \n                                            signatureInput.value = e.target.result; \n                                        };\n                                        reader.readAsDataURL(file);\n                                    }\n                                });\n                            </script>\n                            \n                            \n                        </x-section-guest>\n                        \n                    </div>\n                </div>\n            </div>\n            \n        </div>\n    </section>\n    \n      \n\n</x-guest-layout>\n\n\n"
        }
    ]
}