{
    "sourceFile": "resources/views/pages/backend/comptabilite/depenses/index.blade.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1732794309973,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1732794309973,
            "name": "Commit-0",
            "content": "<x-app-layout>\n    <x-sidebar/>\n\n    @if (session('success'))\n        <x-succes-notification>\n            {{ session('success') }}\n        </x-succes-notification>\n        <script>\n            document.addEventListener('DOMContentLoaded', function () {\n                const notification = document.getElementById('success-notification-content');\n                const closeBtn = document.getElementById('close-notification');\n                \n                notification.classList.remove('hidden');\n                \n                closeBtn.addEventListener('click', () => {\n                    notification.classList.add('hidden');\n                });\n            });\n        </script>\n    @endif\n\n    <x-content-page>\n        @section('navigation-content')\n            <x-breadcrumb :breadcrumbItems=\"$breadcrumbsItems\" :pageTitle=\"$pageTitle\"/>\n        @endsection        \n        <div class=\"flex-1 p-6\">\n            <x-header>\n                {{$pageTitle}}\n            </x-header>\n\n            <div class=\"p-6 mx-auto mt-4 bg-white min-h-screen rounded-b-lg shadow-lg\">\n                <!-- Tabs -->\n                <div class=\"mb-4\">\n                    <ul class=\"flex border-b\">\n                        <li class=\"mr-1\">\n                            <a href=\"#all\" class=\"inline-block py-2 px-3 text-blue-600 hover:text-whit text-sm rounded-t-md focus:outline-none tab-link\">\n                                Tous\n                            </a>\n                        </li>\n                        <li class=\"mr-1\">\n                            <a href=\"#all\" class=\"inline-block py-2 px-3 text-blue-600 hover:text-whit text-sm rounded-t-md focus:outline-none tab-link\">\n                                H[opitqux]\n                            </a>\n                        </li>\n                        <li class=\"mr-1\">\n                            <a href=\"#all\" class=\"inline-block py-2 px-3 text-blue-600 hover:text-whit text-sm rounded-t-md focus:outline-none tab-link\">\n                                Tous\n                            </a>\n                        </li>\n                        \n                    </ul>\n                </div>\n\n                <!-- Tous tab content -->\n                <div id=\"all\" class=\"tab-content hidden\">\n                    <table id=\"depenses-table-all\" class=\"w-full text-sm text-left text-gray-500 border rtl:text-right dark:text-gray-400 display\">\n                        <thead class=\"text-xs text-gray-700 uppercase bg-gray-200 dark:bg-gray-700 dark:text-gray-400\">\n                            <tr>\n                                <th>Description</th>\n                                <th>Montant</th>\n                                <th>Catégorie</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            @foreach($depenses as $depense)\n                                <tr class=\"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600\">\n                                    <td class=\"px-6 py-4\">{{ $depense->description }}</td>\n                                    <td class=\"px-6 py-4\">{{ $depense->montant }}</td>\n                                    <td class=\"px-6 py-4\">{{ $depense->categorie->nom }}</td>\n                                </tr>\n                            @endforeach\n                        </tbody>\n                    </table>\n                </div>\n\n                <!-- Categories tab content -->\n                    @foreach($categoriesPrincipales as $categorie)\n                    <div id=\"category-{{ $categorie->uuid }}\" class=\"tab-content hidden\">\n                        <table id=\"depenses-table-{{ $categorie->uuid }}\" class=\" w-full text-sm text-left text-gray-500 border rtl:text-right dark:text-gray-400 display\">\n                            <thead class=\"text-xs text-gray-700 uppercase bg-gray-200 dark:bg-gray-700 dark:text-gray-400\">\n                                <tr>\n                                    <th>Description</th>\n                                    <th>Montant</th>\n                                    <th>Catégorie</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                @foreach($depenses as $depense)\n                                    @if($depense->categorie->uuid == $categorie->uuid)\n                                    <tr class=\"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600\">\n                                        <td class=\"px-6 py-4\">{{ $depense->description }}</td>\n                                        <td class=\"px-6 py-4\">{{ $depense->montant }}</td>\n                                        <td class=\"px-6 py-4\">{{ $depense->categorie->nom }}</td>\n                                    </tr>\n                                    @endif\n                                @endforeach\n                            </tbody>\n                        </table>\n                    </div>\n                @endforeach\n            </div>\n        </div>    \n    </x-content-page>\n\n    <script src=\"https://code.jquery.com/jquery-3.6.0.min.js\"></script>\n    <script src=\"https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js\"></script>\n    <script src=\"https://cdn.datatables.net/buttons/2.3.6/js/dataTables.buttons.min.js\"></script>\n    <script src=\"https://cdn.datatables.net/buttons/2.3.6/js/buttons.html5.min.js\"></script>\n    <script src=\"https://cdn.datatables.net/buttons/2.3.6/js/buttons.print.min.js\"></script>\n    <script>\n        $(document).ready(function() {\n            // DataTable for \"Tous\"\n            $('#depenses-table-all').DataTable({\n                buttons: [\n                    { \n                        extend: 'print', \n                        className: 'btn btn-sm text-red-500 btn-primary fa fa-print', \n                        text:'' \n                    },\n                    \n                  \n                    {\n                        extend: 'excelHtml5',\n                        text: '<i class=\"fa fa-file-excel-o\"></i>',\n                        titleAttr: 'Excel',\n                        filename: 'MUPOL_depenses_{{ $categorie->nom }}',\n                        title: 'MUPOL depenses {{ $categorie->nom }}', \n\n                    },\n                    {\n                        extend: 'pdfHtml5',\n                        text: '<i class=\"fa fa-file-pdf-o\"></i>',\n                        titleAttr: 'PDF',\n                        filename: 'MUPOL_depenses_{{ $categorie->nom }}',\n                        title: function() {\n                            var date = new Date();\n                            var formattedDate = date.getDate() + '/' + (date.getMonth() + 1) + '/' + date.getFullYear(); // Format DD/MM/YYYY\n                            return 'MUPOL depenses {{ $categorie->nom }} - ' + formattedDate;\n                        },                            \n                        customize: function (doc) {\n                            // Personnalisation du titre\n                            doc.content[1].table.widths = \n                            Array(doc.content[1].table.body[0].length + 1).join('*').split('');\n                        }\n                    }\n                ],\n         \n                paging: true,\n                ordering: true,\n                info: true,\n                searching: true,\n                lengthChange: true,\n                lengthMenu: [10, 25, 50, 100],\n                pagingType: 'simple_numbers',\n                \n\n                \"language\": {\n                    \"search\": \"Rechercher:\",\n                    \"lengthMenu\": \"Afficher _MENU_ entrées par page\",\n                    \"info\": \"Affichage de _START_ à _END_ sur _TOTAL_ entrées\",\n                    \"infoEmpty\": \"Aucune entrée disponible\",\n                    \"zeroRecords\": \"Aucun résultat trouvé\",\n                    \"paginate\": {\n                        \"previous\": \"Précédent\",\n                        \"next\": \"Suivant\"\n                    }\n                },\n                \"dom\": '<\"top\"lBf>t<\"bottom\"p><\"clear\">',\n                \"initComplete\": function() {\n                    // Arrondir les coins de la barre de recherche\n                    $('.dataTables_filter input').css('border-radius', '10px');\n                    // Remplacer le label par un placeholder\n                    $('.dataTables_filter label').contents().filter(function() {\n                        return this.nodeType === 3;\n                    }).remove();                        \n                    $('.dataTables_filter input').attr('placeholder', 'Rechercher...'); \n                    $('.dataTables_filter').css({\n                        'position': 'relative',\n                        \n                    });                        \n                    $('.dataTables_filter input').css({\n                        'padding-left': '30px',  // Espace pour l'icône\n                    }).before('<i class=\"fa fa-search absolute text-gray-300\" style=\"position: absolute; top: 50%; left: 10px; transform: translateY(-50%);\"></i>');\n\n                    $('.dataTables_length select').css({\n                        'padding': '6px 12px',\n                        'font-family': 'Arial, sans-serif',\n                        'font-size': '14px',                 // Change la taille de la police\n                        \n                    });\n                    $('.dataTables_length').css({\n                        'font-family': 'Arial, sans-serif',  // Change la police\n                        'font-size': '14px',\n                        'line-height': '1rem',\n                        'color' : 'gray'\n                    });\n                    $('.dataTables_wrapper .top').css({\n                        'display': 'flex',\n                        'justify-content': 'space-between',\n                        'align-items': 'center',\n                        'margin-top': '20px',   // Marge supérieure\n                        'margin-bottom': '20px'  // Marge inférieure\n                    });\n                    $('.dataTables_paginate .paginate_button').css({\n                        'margin': '8px 20px',\n                        'color' : 'gray',\n                        'font-size': '14px',\n                        'line-height': '1rem',\n                    });\n                },\n            });\n\n            @foreach($categoriesPrincipales as $categorie)\n                $('#depenses-table-{{ $categorie->uuid }}').DataTable({\n                   \n                     \n                        buttons: [\n                        { \n                            extend: 'print', \n                            className: 'btn btn-sm text-red-500 btn-primary fa fa-print', \n                            text:'' \n                        },\n                        \n                      \n                        {\n                            extend: 'excelHtml5',\n                            text: '<i class=\"fa fa-file-excel-o\"></i>',\n                            titleAttr: 'Excel',\n                            filename: 'MUPOL_depenses_{{ $categorie->nom }}',\n                            title: 'MUPOL depenses {{ $categorie->nom }}', \n\n                        },\n                        {\n                            extend: 'pdfHtml5',\n                            text: '<i class=\"fa fa-file-pdf-o\"></i>',\n                            titleAttr: 'PDF',\n                            filename: 'MUPOL_depenses_{{ $categorie->nom }}',\n                            title: function() {\n                                var date = new Date();\n                                var formattedDate = date.getDate() + '/' + (date.getMonth() + 1) + '/' + date.getFullYear(); // Format DD/MM/YYYY\n                                return 'MUPOL depenses {{ $categorie->nom }} - ' + formattedDate;\n                            },                            \n                            customize: function (doc) {\n                                // Personnalisation du titre\n                                doc.content[1].table.widths = \n                                Array(doc.content[1].table.body[0].length + 1).join('*').split('');\n                            }\n                        }\n                        ],\n             \n                        paging: true,\n                        ordering: true,\n                        info: true,\n                        searching: true,\n                        lengthChange: true,\n                        lengthMenu: [10, 25, 50, 100],\n                        pagingType: 'simple_numbers',\n                        \n\n                        \"language\": {\n                            \"search\": \"Rechercher:\",\n                            \"lengthMenu\": \"Afficher _MENU_ entrées par page\",\n                            \"info\": \"Affichage de _START_ à _END_ sur _TOTAL_ entrées\",\n                            \"infoEmpty\": \"Aucune entrée disponible\",\n                            \"zeroRecords\": \"Aucun résultat trouvé\",\n                            \"paginate\": {\n                                \"previous\": \"Précédent\",\n                                \"next\": \"Suivant\"\n                            }\n                        },\n                        \"dom\": '<\"top\"lBf>t<\"bottom\"p><\"clear\">',\n                        \"initComplete\": function() {\n                            // Arrondir les coins de la barre de recherche\n                            $('.dataTables_filter input').css('border-radius', '10px');\n                            // Remplacer le label par un placeholder\n                            $('.dataTables_filter label').contents().filter(function() {\n                                return this.nodeType === 3;\n                            }).remove();                        \n                            $('.dataTables_filter input').attr('placeholder', 'Rechercher...'); \n                            $('.dataTables_filter').css({\n                                'position': 'relative',\n                                \n                            });                        \n                            $('.dataTables_filter input').css({\n                                'padding-left': '30px',  // Espace pour l'icône\n                            }).before('<i class=\"fa fa-search absolute text-gray-300\" style=\"position: absolute; top: 50%; left: 10px; transform: translateY(-50%);\"></i>');\n\n                            $('.dataTables_length select').css({\n                                'padding': '6px 12px',\n                                'font-family': 'Arial, sans-serif',\n                                'font-size': '14px',                 // Change la taille de la police\n                                \n                            });\n                            $('.dataTables_length').css({\n                                'font-family': 'Arial, sans-serif',  // Change la police\n                                'font-size': '14px',\n                                'line-height': '1rem',\n                                'color' : 'gray'\n                            });\n                            $('.dataTables_wrapper .top').css({\n                                'display': 'flex',\n                                'justify-content': 'space-between',\n                                'align-items': 'center',\n                                'margin-top': '20px',   // Marge supérieure\n                                'margin-bottom': '20px'  // Marge inférieure\n                            });\n                            $('.dataTables_paginate .paginate_button').css({\n                                'margin': '8px 20px',\n                                'color' : 'gray',\n                                'font-size': '14px',\n                                'line-height': '1rem',\n                            });\n                        },\n                });\n            @endforeach\n\n            // Afficher l'onglet actif et changer la couleur de fond de l'onglet sélectionné\n            $(\"a.tab-link\").on(\"click\", function (e) {\n                e.preventDefault();\n\n                // Retirer la couleur de fond de tous les onglets\n                $(\"a.tab-link\").removeClass(\"bg-primary1 text-white\").addClass(\"text-blue-600\");\n\n                // Ajouter la couleur de fond et changer la couleur du texte de l'onglet actif\n                $(this).removeClass(\"text-blue-600\").addClass(\"bg-primary1 text-white\");\n\n                // Masquer tous les contenus d'onglets et afficher celui sélectionné\n                $(\".tab-content\").addClass(\"hidden\");\n                var targetTab = $(this).attr(\"href\");\n                $(targetTab).removeClass(\"hidden\");\n            });\n\n            $(\"a.tab-link:first\").addClass(\"bg-primary1 text-white\");\n            $(\".tab-content:first\").removeClass(\"hidden\");\n        });\n    </script>\n</x-app-layout>\n"
        }
    ]
}