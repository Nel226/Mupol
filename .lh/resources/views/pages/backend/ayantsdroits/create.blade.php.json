{
    "sourceFile": "resources/views/pages/backend/ayantsdroits/create.blade.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1732793741105,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1732793741105,
            "name": "Commit-0",
            "content": "\n\n<x-app-layout>\n    <x-sidebar />\n    <x-content-page>\n        <x-breadcrumb :breadcrumbItems=\"$breadcrumbsItems\" />\n        <x-header>\n            {{$pageTitle}}\n        </x-header>\n        <x-section class=\"bg-white rounded-md dark:bg-gray-900\">\n            <div class=\"max-w-2xl px-4 py-4 mx-auto lg:py-8\">\n                <h2 class=\"mb-4 text-xl font-bold text-gray-900 dark:text-white\">Ajouter un nouvel ayant droit</h2>\n                <form action=\"{{ route('ayantsdroits.store') }}\" method=\"POST\">\n                    @csrf\n                    <div class=\"grid gap-4 sm:grid-cols-2 sm:gap-6\">\n                        <div class=\"sm:col-span-2\">\n                            <label for=\"adherent_id\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Matricule de l&apos;adhérent</label>\n                            <select name=\"adherent_id\" id=\"adherent_id\" style=\"height:30px\" class=\"select2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\" required>\n                                <option value=\"\"></option>\n                                @foreach ($adherents as $adherent)\n                                <option value=\"{{ $adherent->no_matricule }}\">Mle {{ $adherent->no_matricule }} : {{ $adherent->nom }} {{ $adherent->prenom }}</option>\n                                @endforeach\n                            </select>\n                        </div>\n                        <script>\n                            $(document).ready(function (){\n                                $(\"#adherent_id\").select2({\n                                    height:'20px',\n                                    placeholder: 'Sélectionnez le matricule adhérant',\n                                    language: \"fr\",\n                                });\n                            })\n                            $(document).ready(function() {\n                                function toggleFormFields() {\n                                    var selectedValue = $(\"#adherent_id\").val();\n                                    if (selectedValue) {\n                                        $(\"#nom, #prenom, #date_naissance, #sexe input, #relation , #code\")\n                                        .prop('disabled', false)\n                                        .removeClass('bg-gray-200');\n                                    } else {\n                                        $(\"#nom, #prenom, #date_naissance, #sexe input, #relation , #code\")\n                                        .prop('disabled', true)\n                                        .addClass('bg-gray-200');\n                                    }\n                                }\n                                \n                                toggleFormFields();\n                                $(\"#adherent_id\").change(toggleFormFields);\n                            });\n                        </script>\n                        \n                        <div class=\"w-full\">\n                            <label for=\"nom\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Nom</label>\n                            <input type=\"text\" name=\"nom\" id=\"nom\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-gren-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\" placeholder=\"Entrez le nom de l'ayant droit\" required >\n                        </div>\n                        <div class=\"w-full\">\n                            <label for=\"prenom\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Prénom</label>\n                            <input type=\"text\" name=\"prenom\" id=\"prenom\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-600 focus:border-green-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-green-500 dark:focus:border-primary-500\" placeholder=\"Entrez le prénom de l'ayant droit \" required >\n                        </div>\n                        <div class=\"w-full\">\n                            <label for=\"date_naissance\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Date de Naissance</label>\n                            <input type=\"date\" name=\"date_naissance\" id=\"date_naissance\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-600 focus:border-green-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\" required >\n                        </div>\n                        <div class=\"w-full\">\n                            <label for=\"sexe\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Sexe</label>\n                            <div id=\"sexe\" class=\"flex items-center p-2 space-x-4\">\n                                <label class=\"inline-flex items-center text-gray-700 dark:text-white\">\n                                    <input type=\"radio\" name=\"sexe\" value=\"Masculin\" class=\"text-primary1 form-radio\" disabled>\n                                    <span class=\"ml-2 text-sm\">Masculin</span>\n                                </label>\n                                <label class=\"inline-flex items-center text-gray-700 dark:text-white\">\n                                    <input type=\"radio\" name=\"sexe\" value=\"Féminin\" class=\"text-primary1 form-radio\" disabled>\n                                    <span class=\"ml-2 text-sm\">Féminin</span>\n                                </label>\n                            </div>\n                        </div>\n                        <div class=\"w-full\">\n                           \n                            <label for=\"relation\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Relation</label>\n                            <select id=\"relation\" name=\"relation\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus-ring-green-600 focus:border-green-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\">\n                                <option value=\"\">-- Choisir --</option>\n                                <option value=\"Enfant\">Enfant</option>\n                                <option value=\"Epoux\">Epoux</option>\n                                <option value=\"Epouse\">Epouse</option>\n                                \n                            </select>\n                        </div>\n                        <div class=\"w-full\">\n                            <label for=\"code\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Code</label>\n                            <input type=\"text\" name=\"code\" id=\"code\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus-ring-green-600 focus:border-green-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\" placeholder=\"Saisissez le code \" required disabled>\n                        </div>\n                        \n                        <script>\n                            $(document).ready(function() {\n                                let adherentPrefix = '';\n                        \n                                function toggleFormFields() {\n                                    var selectedValue = $(\"#adherent_id\").val();\n                                    if (selectedValue) {\n                                        $(\"#nom, #prenom, #date_naissance, #sexe input, #relation , #code\")\n                                            .prop('disabled', false)\n                                            .removeClass('bg-gray-200');\n                                    } else {\n                                        $(\"#nom, #prenom, #date_naissance, #sexe input, #relation , #code\")\n                                            .prop('disabled', true)\n                                            .addClass('bg-gray-200');\n                                    }\n                                }\n                        \n                                toggleFormFields();\n                        \n                                $(\"#adherent_id\").change(function() {\n                                    toggleFormFields();\n                                    \n                                    var adherentCode = $(this).val();\n                                    if (adherentCode) {\n                                        adherentPrefix = adherentCode + \"/\";\n                                        \n                                        $(\"#code\").val(adherentPrefix);\n                                        $(\"#code\").prop('disabled', false);\n                                    } else {\n                                        $(\"#code\").val(\"\");\n                                        $(\"#code\").prop('disabled', true);\n                                    }\n                                });\n                        \n                                $(\"#code\").on('input', function() {\n                                    var currentValue = $(this).val();\n                                    \n                                    if (!currentValue.startsWith(adherentPrefix)) {\n                                        $(this).val(adherentPrefix);\n                                    }\n                                });\n                            });\n                        </script>  \n                       \n                    </div>\n                    <div class=\"flex items-end justify-end mt-8\">\n                        <x-primary-button type=\"submit\" class=\"\">\n                            Ajouter Ayant Droit\n                        </x-primary-button>\n                    </div>\n                </form>\n            </div>\n        </x-section>\n    </x-content-page>\n    \n</x-app-layout>\n"
        }
    ]
}